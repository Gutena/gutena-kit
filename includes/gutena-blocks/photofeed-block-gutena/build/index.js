(()=>{var e,t={259:(e,t,a)=>{"use strict";const o=window.wp.blocks,l=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"gutena/instagram-gallery","title":"Instagram Gallery","category":"gutena","description":"Instagram Gallery for Block Editor by Gutena","textdomain":"photofeed-block-gutena","icon":"instagram","attributes":{"instagramToken":{"type":"string","default":""},"columns":{"type":"number","default":3,"minimum":1,"maximum":6},"count":{"type":"number","default":6,"minimum":3},"gridGap":{"type":"string","default":"1.5rem"},"hoverColor":{"type":"string","default":"#008CBA"},"opacity":{"type":"number","default":0.5},"linkType":{"type":"string","default":"none"}},"supports":{"html":false,"align":["wide","full"]},"editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}'),n=window.wp.element;var r=a(184),i=a.n(r);const s=window.wp.i18n,u=window.wp.blockEditor,c=window.wp.components;(0,o.registerBlockType)(l,{edit:function(e){let{attributes:t,setAttributes:a}=e;const{columns:o,count:l,gridGap:r,hoverColor:p,instagramToken:d,opacity:m,linkType:g}=t,[f,v]=(0,n.useState)([]),[b,h]=(0,n.useState)([]),[k,y]=(0,n.useState)(null),_=(0,u.useBlockProps)();(0,n.useEffect)((()=>{const e=new FormData;e.append("action","gutena_get_instagram_images"),e.append("nonce",gutenaInstagramGalleryBlock.nonce),e.append("access_token",d),fetch(gutenaInstagramGalleryBlock.ajax_url,{method:"POST",credentials:"same-origin",body:e}).then((e=>e.json())).then((e=>{"success"==(null==e?void 0:e.status)?(v(e.images),y(null)):"error"==(null==e?void 0:e.status)?(v([]),y(e.message)):(v([]),y(null))})).catch((e=>{y(e)}))}),[d]),(0,n.useEffect)((()=>{h(f.slice(0,l))}),[f,l]);const w=i()({[`photofeed-blocks-grid columns-${o}`]:o}),C={"--gutena--photofeed-block-gap":r,"--gutena--photofeed-image-hover-color":p,"--gutena--photofeed-image-hover-opacity":m},E=(0,n.createElement)("a",{href:"https://developers.facebook.com/docs/instagram-basic-display-api/guides/getting-access-tokens-and-permissions/",target:"_blank"},(0,s.__)("How to get Access Token","photofeed-block-gutena"));return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(u.InspectorControls,{key:"settings"},(0,n.createElement)(c.PanelBody,{title:(0,s.__)("Settings","photofeed-block-gutena")},(0,n.createElement)(c.TextControl,{label:(0,s.__)("Instagram Access Token","photofeed-block-gutena"),value:d,onChange:e=>a({instagramToken:e}),help:E}),(0,n.createElement)(c.RangeControl,{label:(0,s.__)("Columns","photofeed-block-gutena"),value:o,onChange:e=>a({columns:e}),min:1,max:6}),(0,n.createElement)(c.RangeControl,{label:(0,s.__)("Number of Posts","photofeed-block-gutena"),value:l,onChange:e=>a({count:e}),min:1,max:50}),(0,n.createElement)(c.__experimentalUnitControl,{label:(0,s.__)("Block Spacing","photofeed-block-gutena"),units:[{value:"px",label:"px",default:0},{value:"%",label:"%",default:10},{value:"em",label:"em",default:0},{value:"rem",label:"rem",default:0}],value:r,onChange:e=>a({gridGap:e}),labelPosition:"side",style:{"margin-bottom":"24px"}}),(0,n.createElement)(c.SelectControl,{label:(0,s.__)("Link to","photofeed-block-gutena"),value:g,options:[{label:(0,s.__)("Instagram Feed","photofeed-block-gutena"),value:"instagram"},{label:(0,s.__)("Media URL","photofeed-block-gutena"),value:"media"},{label:(0,s.__)("None","photofeed-block-gutena"),value:"none"}],onChange:e=>a({linkType:e})})),(0,n.createElement)(c.PanelBody,{title:(0,s.__)("Styles","photofeed-block-gutena")},(0,n.createElement)(u.ColorPaletteControl,{label:(0,s.__)("Overlay Hover Color","photofeed-block-gutena"),value:p,onChange:e=>a({hoverColor:e})}),(0,n.createElement)(c.RangeControl,{label:(0,s.__)("Overlay Hover Opacity","photofeed-block-gutena"),value:m,onChange:e=>a({opacity:e}),min:.1,max:1,step:.1}))),(0,n.createElement)("div",_,null!=k?k:(0,n.createElement)("ul",{className:w,style:C},null==b?void 0:b.map((e=>(0,n.createElement)("li",{key:null==e?void 0:e.id,className:"photofeed-block-item"},(0,n.createElement)("img",{src:null==e?void 0:e.media_url,alt:null==e?void 0:e.caption,"data-id":null==e?void 0:e.id,"data-full-url":null==e?void 0:e.media_url,"data-link":null==e?void 0:e.permalink,className:`instagram-image wp-image-${null==e?void 0:e.id}`}),(0,n.createElement)("div",{class:"overlay",title:null==e?void 0:e.caption},(0,n.createElement)("div",{class:"text"}))))))))}})},184:(e,t)=>{var a;!function(){"use strict";var o={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var n=typeof a;if("string"===n||"number"===n)e.push(a);else if(Array.isArray(a)){if(a.length){var r=l.apply(null,a);r&&e.push(r)}}else if("object"===n)if(a.toString===Object.prototype.toString)for(var i in a)o.call(a,i)&&a[i]&&e.push(i);else e.push(a.toString())}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(a=function(){return l}.apply(t,[]))||(e.exports=a)}()}},a={};function o(e){var l=a[e];if(void 0!==l)return l.exports;var n=a[e]={exports:{}};return t[e](n,n.exports,o),n.exports}o.m=t,e=[],o.O=(t,a,l,n)=>{if(!a){var r=1/0;for(c=0;c<e.length;c++){for(var[a,l,n]=e[c],i=!0,s=0;s<a.length;s++)(!1&n||r>=n)&&Object.keys(o.O).every((e=>o.O[e](a[s])))?a.splice(s--,1):(i=!1,n<r&&(r=n));if(i){e.splice(c--,1);var u=l();void 0!==u&&(t=u)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[a,l,n]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};o.O.j=t=>0===e[t];var t=(t,a)=>{var l,n,[r,i,s]=a,u=0;if(r.some((t=>0!==e[t]))){for(l in i)o.o(i,l)&&(o.m[l]=i[l]);if(s)var c=s(o)}for(t&&t(a);u<r.length;u++)n=r[u],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(c)},a=globalThis.webpackChunkphotofeed_block_gutena=globalThis.webpackChunkphotofeed_block_gutena||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var l=o.O(void 0,[431],(()=>o(259)));l=o.O(l)})();